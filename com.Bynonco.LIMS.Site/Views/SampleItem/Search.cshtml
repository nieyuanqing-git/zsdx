@using com.Bynonco.JqueryEasyUI.Core;
<script type="text/javascript">
    function generateQueryExpress() {
        var queryExpression = "";
        var name = $("#txtQueryName").val();
        if (name.trim() != "") {
            queryExpression += "Name∽\"" + name.trim() + "\"";
        }

        var equipmentName = $("#txtQueryEquipmentName").val();
        if (equipmentName.trim() != "") {
            queryExpression += (queryExpression == "" ? "EquipmentName∽\"" + equipmentName.trim() + "\"" : "*EquipmentName∽\"" + equipmentName.trim());
        }

        var isStop = $("#cbxQueryIsStop").combobox("getValue").trim();
        if (isStop != "-1") {
            var isStopStr = isStop == "0" ? "false" : "true";
            queryExpression += (queryExpression == "" ? "IsStop=" + isStopStr : "*IsStop=" + isStopStr);
        }

        var inputStr = $("#txtQueryInputStr").val();
        if (inputStr.trim() != "") {
            queryExpression += (queryExpression == "" ? "InputStr∽\"" + inputStr.trim() + "\"" : "*InputStr∽\"" + inputStr.trim() + "\"");
        }

        return queryExpression;
    }

    function doQueryReset() {
        $("#txtQueryName").val("");
        $("#txtQueryEquipmentName").val("");
        $("#txtQueryInputStr").val("");
        $("#cbxQueryIsStop").combobox("setValue", "-1");
        return false;
    }
</script>
<ul class="search">
     <li>
        <label>项目名称</label>
        @Html.JValidateBox("txtQueryName").SetHeight(20).SetWidth(150).ToMvcString()
    </li>
    <li>
        <label>设备名称</label>
        @Html.JValidateBox("txtQueryEquipmentName").SetHeight(20).SetWidth(150).ToMvcString()
    </li>
     <li>
        <label>是否停用</label>
        @Html.JComboBox("cbxQueryIsStop").SetEditable(false).SetWidth(155).SetData(ViewData["IsStopJson"]).ToMvcString()
    </li>
     <li>
        <label>助记符</label>
        @Html.JValidateBox("txtQueryInputStr").SetHeight(20).SetWidth(150).ToMvcString()
    </li>
    <li class="button">
        @Html.JLinkButton("btnSearch", "查询").SetOnclick("doSearch();doCloseSearch();").ToMvcString()
        @Html.JLinkButton("btnQueryReset", "清空").SetOnclick("doQueryReset();").ToMvcString()
        @Html.JLinkButton("btnClose", "关闭").SetOnclick("doCloseSearch();").ToMvcString()
        <div class="clear-both"></div>
    </li>
    <div class="clear-both"></div>
</ul>
<div class="clear-both"></div>