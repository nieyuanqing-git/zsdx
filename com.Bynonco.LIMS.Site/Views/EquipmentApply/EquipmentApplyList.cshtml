@using com.Bynonco.JqueryEasyUI.Core;
@using com.Bynonco.LIMS.BLL;
@{
    var equipmentApplyPrivilige = com.Bynonco.LIMS.BLL.Business.Privilige.PriviligeFactory.GetEquipmentApplyPrivilige(User.Identity.Name);
    var dataGrid = Html.JDataGrid("tbEquipmentApplyList")
    .SetUrl(Url.Action("GetGridViewEquipmentApplyList", "EquipmentApply",new {equipmentApplyRole =((int)EquipmentApplyRole.Applicant).ToString()}))
    .SetHeight(550)
    .SetPageSize(10)
    .SetMutiSelect(false)
    .SetSortName("ApplyTime")
    .SetSortOrder(SortOrder.desc)
    .SetShowAddButton(equipmentApplyPrivilige.IsEnableApply)
    .SetAddScript("doAddOrEquipmentApply();");
    dataGrid.AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("编码", "Id").SetHidden(true))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("图片", "Icon").SetWidth(50).SetAlign(Align.center))    
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("设备名称", "NameStr").SetWidth(200).SetAlign(Align.left))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("型号", "Model").SetWidth(100).SetAlign(Align.center))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("申请人", "ApplicantName").SetWidth(80).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("所在单位", "ApplicantOrgName").SetWidth(100).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("状态", "StatusStr").SetWidth(180).SetAlign(Align.center))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("申请时间", "ApplyTimeStr").SetWidth(120).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("单位名称", "LabRoomName").SetWidth(150).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("校仪器编号", "EquipmentNo").SetWidth(100).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("所在实验室", "LocatedLabRoom").SetWidth(120).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("安放地点", "Location").SetWidth(200).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("备注", "Remark").SetWidth(500).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("撤销人", "CancleOperatorName").SetWidth(80).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("撤销时间", "CancelTimeStr").SetWidth(120).SetAlign(Align.center))
    .SetShowSearchButton(true)
    .SetSearchScript("doShowSearch()");
}
@(dataGrid.ToMvcString()) 
