@using com.Bynonco.JqueryEasyUI.Core;
@using com.Bynonco.LIMS.BLL;
@{
    var ethicsApplyPrivilige = com.Bynonco.LIMS.BLL.Business.Privilige.PriviligeFactory.GetEthicsApplyPrivilige(User.Identity.Name);
    var dataGrid = Html.JDataGrid("tbMyEthicsApplyList")
    .SetUrl(Url.Action("GetMyGridViewEthicsApplyList", "EthicsApply"))
    .SetHeight(550)
    .SetPageSize(10)
    .SetMutiSelect(false)
    .SetSortName("ApplyTime")
    .SetSortOrder(SortOrder.desc)
    .SetShowAddButton(ethicsApplyPrivilige.IsEnableApply)
    .SetAddScript("doAddOrEditEthicsApply('');");
    dataGrid.AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("编码", "Id").SetHidden(true))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("图片", "Icon").SetWidth(50).SetAlign(Align.center))    
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("申请人", "NameStr").SetWidth(200).SetAlign(Align.left))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("实验名称", "ProjectName").SetWidth(200).SetAlign(Align.center))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("状态", "StatusStr").SetWidth(100).SetAlign(Align.center))
    .AddFrozenColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("伦理编号", "EthicsNo").SetWidth(120).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("品种品系", "AnimalCategoryNames").SetSortable(false).SetWidth(180).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("申请时间", "ApplyTimeStr").SetWidth(120).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("来源", "AnimalSourceNames").SetSortable(false).SetWidth(200).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("等级", "AnimalGradeNames").SetSortable(false).SetWidth(200).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("规格", "AnimalSpecificationses").SetSortable(false).SetWidth(200).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("数量(只)", "ApplyAmounts").SetSortable(false).SetWidth(200).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("允许数量(只)", "AllowAmounts").SetSortable(false).SetWidth(200).SetAlign(Align.left))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("审核人", "AuditorName").SetWidth(100).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("审核时间", "AuditTimeStr").SetWidth(100).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("审核备注", "AuditRemark").SetWidth(500).SetAlign(Align.center))
    .AddColum(new com.Bynonco.JqueryEasyUI.Core.DataGridColumn("备注", "Remark").SetWidth(500).SetAlign(Align.left))
    .SetShowSearchButton(true)
    .SetSearchScript("doShowSearch()");
}
@(dataGrid.ToMvcString()) 
